<!DOCTYPE html>
<html>
<head>
    <title>Simple HTTP Demo</title>
</head>
<body>
    <h1>HTTP Server GET/POST Demo</h1>

    <button onclick="sendGet()">Send GET</button>
    <p id="getResult"></p>

    <form onsubmit="sendPost(event)">
        <input type="text" id="username" placeholder="Name" required>
        <input type="text" id="message" placeholder="Message" required>
        <button type="submit">Send POST</button>
    </form>

    <p id="postResult"></p>

    <script>
        function sendGet() {
            fetch("/")
                .then(res => res.text())
                .then(() => {
                    document.getElementById("getResult").innerText = "GET request OK";
                });
        }

        function sendPost(event) {
            event.preventDefault();

            let data = new URLSearchParams();
            data.append("username", document.getElementById("username").value);
            data.append("message", document.getElementById("message").value);

            fetch("/", {
                method: "POST",
                headers: { "Content-Type": "application/x-www-form-urlencoded" },
                body: data
            })
            .then(res => res.json())
            .then(json => {
                document.getElementById("postResult").innerText =
                    "POST Response: " + JSON.stringify(json);
            });
        }
    </script>
</body>
</html>
